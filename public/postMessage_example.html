<!DOCTYPE html>
<html>
    <body>
        <button id="open">Open new tab</button>
        <button id="send">Send</button>
        <script>
            let popupWindow;
            const origin = "http://site.example:3000";
            document.querySelector("#open").addEventListener("click", () => {
                popupWindow = window.open(origin + "/child.html")
            });
            document.querySelector("#send").addEventListener("click", () => {
                popupWindow.postMessage("Message from parent: Hello", origin);
            });
            window.addEventListener("message", (event) => {
                if(event.origin === origin) {
                    alert(event.data);
                }
            });
        </script>
    </body>
</html>